{"version":3,"sources":["Components/Tasks.js","App.js","index.js"],"names":["Tasks","tasks","handleDelete","isLoading","setIsLoading","useState","arrayCreated","setArrayCreated","createTask","map","task","index","style","userData","important","border","onClick","data-index","_id","key","text","position","right","className","App","ApiURL","setTasks","reloadData","setReloadData","currentTask","setCurrentTask","importantChecked","setImportantChecked","data","setData","localStorage","getItem","setItem","Math","floor","random","userID","useEffect","fetch","then","res","json","length","console","log","handleAddTask","e","preventDefault","method","mode","anime","targets","rotate","value","duration","onSubmit","formMethod","TextField","id","label","autoComplete","color","onChange","target","Checkbox","checked","width","prev","inputProps","Button","variant","type","marginTop","marginLeft","marginRight","window","confirm","dataset","CircularProgress","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25382186.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport \"./Tasks.css\";\r\nconst Tasks = ({ tasks, handleDelete, isLoading, setIsLoading }) => {\r\n  const [arrayCreated, setArrayCreated] = useState(false);\r\n  const createTask = tasks.map((task, index) => {\r\n    if (isLoading) setIsLoading(false);\r\n    if (!arrayCreated) setArrayCreated(true);\r\n    const style = task.userData.important\r\n      ? {\r\n          border: \"2px solid red\",\r\n        }\r\n      : {};\r\n    return (\r\n      <li\r\n        onClick={handleDelete}\r\n        data-index={task._id}\r\n        key={index}\r\n        style={style}\r\n      >\r\n        <p data-index={task._id}>\r\n          {index + 1}.{task.userData.text}\r\n        </p>\r\n        <DeleteForeverIcon\r\n          data-index={task._id}\r\n          style={{ position: \"relative\", right: \"2%\" }}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"taskList\">\r\n      <h2>Aktualne zadania</h2>\r\n      <ul> {createTask} </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tasks;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tasks from \"./Components/Tasks\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport anime from \"animejs/lib/anime.es.js\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nfunction App() {\n  const ApiURL = \"https://testing-project9034.herokuapp.com\";\n  const [tasks, setTasks] = useState([]);\n\n  const [reloadData, setReloadData] = useState(1);\n  const [currentTask, setCurrentTask] = useState(\"\");\n  const [importantChecked, setImportantChecked] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState();\n\n  if (!localStorage.getItem(\"userID\")) {\n    localStorage.setItem(\"userID\", Math.floor(Math.random() * 1000000000));\n  }\n  const userID = localStorage.getItem(\"userID\");\n\n  useEffect(() => {\n    fetch(`${ApiURL}/take/tasks/${userID}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setTasks(data);\n        setData(data);\n        if (data.length === 0) {\n          setIsLoading(false);\n          console.log(isLoading);\n        }\n      });\n  }, [isLoading, reloadData, userID]);\n\n  const handleAddTask = (e) => {\n    if (e) e.preventDefault();\n    if (currentTask) {\n      fetch(\n        `${ApiURL}/add/tasks/${currentTask}/${importantChecked}/${userID}`,\n        {\n          method: \"POST\",\n          mode: \"no-cors\",\n        }\n      ).then(() => setReloadData(reloadData + 1)); //RELOAD DATA\n      setImportantChecked(false); // CLEAR IMPORTANT BUTTON\n      setCurrentTask(\"\"); // CLEAR INPUT\n    }\n  };\n\n  const handleDeleteTask = (e) => {\n    const answer = window.confirm(`Are you sure about delete this task?`);\n    if (answer) {\n      fetch(`${ApiURL}/delete/tasks/${e.target.dataset.index}`, {\n        method: \"POST\",\n      }).then(() => setReloadData(reloadData + 1)); //RELOAD DATA\n    }\n  };\n\n  const handleAnimateRefreshBtn = () => {\n    anime({\n      targets: \".refreshIcon\",\n      rotate: {\n        value: [0, 360],\n      },\n\n      duration: 2000,\n    });\n  };\n\n  return (\n    <>\n      <RefreshIcon\n        className=\"refreshIcon\"\n        onClick={(e) => {\n          setReloadData(reloadData + 1);\n          handleAnimateRefreshBtn();\n        }}\n        // style={{ position: \"fixed\", top: \"1%\", left: \"97%\", cursor: \"pointer\" }}\n      />\n      <div className=\"app\">\n        <div className=\"addTask\">\n          <form onSubmit={handleAddTask} formMethod=\"POST\">\n            <h1> Add task</h1>\n            <TextField\n              id=\"standard-basic\"\n              label=\"Insert your task\"\n              autoComplete=\"off\"\n              style={{ color: \"white !important\" }}\n              value={currentTask}\n              onChange={(e) => setCurrentTask(e.target.value)}\n            />\n            <div className=\"checkbox\">\n              <Checkbox\n                checked={importantChecked}\n                style={{\n                  width: \"fit-content\",\n                }}\n                onChange={() => {\n                  setImportantChecked((prev) => !prev);\n                }}\n                inputProps={{ \"aria-label\": \"primary checkbox\" }}\n              />\n              <p>Important</p>\n            </div>\n\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              style={{\n                marginTop: \"5px\",\n                width: \"fit-content\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n              }}\n              color=\"primary\"\n              onSubmit={handleAddTask}\n            >\n              Add\n            </Button>\n          </form>\n        </div>\n\n        {data ? (\n          <Tasks\n            tasks={tasks}\n            isLoading={isLoading}\n            setIsLoading={setIsLoading}\n            handleDelete={handleDeleteTask}\n          />\n        ) : (\n          <CircularProgress\n            style={{\n              marginRight: \"auto\",\n              marginLeft: \"auto\",\n              marginTop: \"10px\",\n            }}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}